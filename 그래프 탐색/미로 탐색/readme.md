# BFS로 푸는 문제 미로 탐색

문제푸는데 이틀 걸렸다. 다 맞는데 이상하게 안되서 엄청 고생했는데, 알고보니 while(!q.empty()) 뒤에 ;이 붙어있었고, 이거 때문에 while문이 제대로 작동을 하지 않아서 문제가 생긴 거였다.

문제를 푸는데 툴로 visual studio를 사용했는데, 설마 세미콜론을 오류로 안잡아줄줄은 몰랐다. 그래서 cout로 작동이라는 단어를 출력해 어디서 문제가 생기는지 찾았고, 

세미콜론을 찾을 수 있었다.

그 문제를 제외하고는, 풀만한 문제였다. 앞으로 코딩을 할 때 잘 살펴보고 문제를 찾아야겠다.

## 문제풀이

미로찾기와 같은 문제들은 dfs로 풀면 시간초과가 생길 여지가 크다. dfs로도 풀어봤는데, 시간 초과가 떴다. 찾아보니 dfs는 알고리즘 특성상 모든 경로를 탐색하고 그 중 최솟값을 찾기 때문에, 시간초과가 잘 뜬다고 한다.

반면, bfs는 최단거리를 보장하기 때문에 bfs로 풀어야 한다.

알고리즘에는 3개의 전역 변수로 선언한 배열이 사용된다.

map 배열은 map을 저장하는데 사용된다. 벡터로 저장해서 그것 채로 넘겨줘도 되지만 편하게 전역변수로 선언했다.

그다음은 check 배열이다. 이 배열은 그 특정 점에 방문했을때, 최솟값으로 이동하는 타일의 숫자를 나타낸다. 이것 역시 리턴값으로 특정 값만 리턴해줘도 되지만, 편하게 전역변수로 선언했다.

마지막으로 visited 배열이다. 방문했는지 방문 안했는지를 확인하는 배열로 뒤로 가는 상황을 방지하기 위해서 선언한다. 뒤로 가면, 시간복잡도가 엄청나게 늘어나니까.

그리고 dx 와 dy배열이 선언되는데, 이 배열들은 미로 안에서 움직이는 상황을 가정하는 배열이다. (1,0), (0,1), (-1,0), (0,-1)로 상하좌우의 움직임을 표현한다.

queue와 pair를 사용해 두 가지 정수값을 받아주는 구조체와 그 구조체로 큐를 선언한다.

bfs는 항상 그렇듯이 queue를 사용하여 구현한다.

x값과 y값을 받고, queue의 맨 앞값을 삭제해준다. 그리고 dx와 dy로 미로에서 갈 수 있는 점들을 찾는다.

갈 수 있는 점들이란, 미로의 범위에서 벗어나지 않으면서, 갈 수 있는 위치이고 방문하지 않은 위치다.

```
if (nx >= 0 && nx < N && ny >= 0 && ny < M && map[nx][ny] == 1 && visited[nx][ny] == 0)
```

이 구문인데, 이 구문이 코드의 핵심이라고 생각한다.

저 조건들이 전부 참인 점들만 큐에 들어가 작동한다.

![dd](https://user-images.githubusercontent.com/48556879/180025068-09e53d93-9e6a-4e70-968b-a3242714aaa9.jpg)


실제 check 배열이다.

이런 식으로, 그 타일까지 방문했을 때 얼마만큼의 거리가 최솟값인지를 표현해 최솟값을 찾는다.

또 다른 핵심 구문은 문제의 조건인 각각의 수들은 붙여서 주어진다는 점이다.

보통 맵을 이중배열로 받을 때, 이중 포문을 사용해서

```
for(int i=0; i<M; i++)
{
for(int j=0; j<N; j++)
cout << map[i][j];
}
```

로 받고는 하는데 붙여서 주어진다는 저 조건 때문에 이 구문이 안먹힌다. 그래서 처음에 map이 안들어가 작동이 안됬다. 코드를 확인해보면 중간에 확인하는 코드들이 많이 들어가있는데 그 때문이다.

이것을 해결하기 위해서는

```
scanf_s("%1d",&map[i][j]);
```

로 넣거나,

```
string s;
cout << s;
for(int j=0; j<N; j++)
arr[i][j] = string[j];
```
로 해서 스트링으로 1줄씩 받은 후 그것을 다시 arr배열에 넣어주는 방법이 있다.

scanf_s로 했었는데 cout와 scanf_s를 같이 쓰면 안좋다는 글을 어디서 본거같아서 string으로 받은 후 넣어줬다.

# 느낀점

문제풀때, 문제를 제대로 읽어봐야겠다. 그리고 툴의 오류 표시 기능을 너무 믿지 말고 꼼꼼히 확인해서 문제를 해결해야겠다.

아무리봐도 틀린 게 없는데, 세미콜론 하나 때문에 이틀동안 고생했다.
